{% extends 'base.html' %}

{% block title %}Main page{% endblock %}

{% block content %}
    <h1>Wallets Dashboard</h1>
    <div><p><h3>Your latest transactions:</h3></p>
        <p>
            {% for transaction in transactions|slice:':5' %}
                <div>
                    <strong><a href="{{ transaction.get_absolute_url }}">{{ transaction.name }}</a></strong><br>
                    Amount: {{ transaction.amount }}<br>
                    Wallet: {{ transaction.wallet }}<br>
                </div><br>
            {% endfor %}

        </p>
    </div>
{% endblock %}

{% block menu %}
        <p>
            <h2>Budgets:</h2>
            <p>
            {% if budgets_finishing %}
                <p><strong>Almost finished:</strong></p>
                {% for budget in budgets_finishing %}
                    <div>
                        <strong><a href="{{ budget.get_absolute_url }}">{{ budget.name }}</a></strong><br>
                    </div><br>
                {% endfor %}
            {% endif %}

            {% if budgets_finished %}
                <p><strong>Finished:</strong></p>
                {% for budget in budgets_finished %}
                    <div>
                        <strong><a href="{{ budget.get_absolute_url }}">{{ budget.name }}</a></strong><br>
                    </div><br>
                {% endfor %}
            {% endif %}

            {% if budgets %}
                <p><strong>Running now:</strong></p>
                {% for budget in budgets_running %}
                    <div>
                        <strong><a href="{{ budget.get_absolute_url }}">{{ budget.name }}</a></strong><br>
                    </div>
                {% endfor %}
            {% else %}
                <p>No budget is running right now. You can create one <a href="{% url 'budgets:budget_create' %}"><b>here</b></a>.</p>
            {% endif %}
        </p>
{% endblock %}